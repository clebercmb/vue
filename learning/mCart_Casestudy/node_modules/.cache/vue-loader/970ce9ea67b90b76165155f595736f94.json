{"remainingRequest":"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/projects/vue/learning/mCart_Casestudy/src/components/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/src/components/login.vue","mtime":1647289251798},{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/cache-loader/dist/cjs.js","mtime":1647289494000},{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/babel-loader/lib/index.js","mtime":1647289491000},{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/cache-loader/dist/cjs.js","mtime":1647289494000},{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/vue-loader/lib/index.js","mtime":1647289495000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\r\nimport { extend } from \"vee-validate\";\r\nimport { required } from \"vee-validate/dist/rules\";\r\nimport Router from \"../router/index\";\r\n\r\nextend(\"required\", {\r\n  ...required,\r\n  message: \"Field required\"\r\n});\r\n\r\nexport default {\r\n  name: \"login\",\r\n  components: {\r\n    ValidationProvider,\r\n    ValidationObserver\r\n  },\r\n  data() {\r\n    return {\r\n      pageTitle: \"Welcome\",\r\n      valid: true,\r\n      isLoggedIn: \"false\",\r\n      users: [],\r\n      errorMessage: \"\",\r\n      login: { username: null, password: null }\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.loadDetails();\r\n  },\r\n  methods: {\r\n    onSubmit: function() {\r\n      this.valid = true;\r\n      var name = this.login.username;\r\n      var password = this.login.password;\r\n      sessionStorage.setItem(\"username\", this.login.username);\r\n      var user = this.users.filter(\r\n        user => user.userName === name && user.password === password\r\n      )[0];\r\n      if (user) {\r\n        this.isLoggedIn = \"true\";\r\n        sessionStorage.setItem(\"isLoggedIn\", this.isLoggedIn);\r\n        Router.push({ path: \"/products\" });\r\n      } else {\r\n        this.isLoggedIn = \"false\";\r\n        sessionStorage.setItem(\"isLoggedIn\", this.isLoggedIn);\r\n        this.valid = false;\r\n        this.errorMessage = \"Login Failed...\";\r\n      }\r\n    },\r\n    loadDetails: function() {\r\n      document.getElementById(\"login\").style.display = \"none\";\r\n      this.$http.get(\"./users/users.json\").then(\r\n        response => {\r\n          this.users = response.body;\r\n          this.errorMessage=null;\r\n        },\r\n        err => {\r\n          this.errorMessage=err.message;\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"container container-styles \">\r\n    <div class=\"col-sm-8 offset-2\">\r\n      <div class=\"card text-center\">\r\n        <div class=\"card-header\">Login</div>\r\n        <div class=\"card-body padding\">\r\n          <ValidationObserver v-slot=\"{ handleSubmit, invalid }\">\r\n            <form @submit.prevent=\"handleSubmit(onSubmit)\">\r\n              <div class=\"form-group row\">\r\n                <label for=\"username\" class=\"col-form-label col-sm-2\">\r\n                  Username :\r\n                </label>\r\n                <div class=\"col-sm-10\">\r\n                  <ValidationProvider\r\n                    name=\"Username\"\r\n                    rules=\"required\"\r\n                    v-slot=\"{ errors }\"\r\n                  >\r\n                    <input\r\n                      class=\"form-control \"\r\n                      v-model=\"login.username\"\r\n                      name=\"username\"\r\n                      type=\"text\"\r\n                    />\r\n                    <p class=\"error\">{{ errors[0] }}</p>\r\n                  </ValidationProvider>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row\">\r\n                <label for=\"password\" class=\"col-form-label col-sm-2\">\r\n                  Password :\r\n                </label>\r\n                <div class=\"col-sm-10\">\r\n                  <ValidationProvider\r\n                    name=\"password\"\r\n                    rules=\"required\"\r\n                    v-slot=\"{ errors }\"\r\n                  >\r\n                    <input\r\n                      class=\"form-control \"\r\n                      v-model=\"login.password\"\r\n                      name=\"password\"\r\n                      type=\"text\"\r\n                    />\r\n                    <p class=\"error\">{{ errors[0] }}</p>\r\n                  </ValidationProvider>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row\">\r\n                <div class=\"col-3 offset-2\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    class=\"btn btn-primary\"\r\n                    :disabled=\"invalid\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                </div>\r\n                <div class=\"col-3 offset-2\">\r\n                  <input\r\n                    type=\"reset\"\r\n                    class=\"btn btn-outline-secondary\"\r\n                    value=\"Cancel\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </form>\r\n            <p v-if=\"errorMessage\" class=\"error\">{{errorMessage}}</p>\r\n          </ValidationObserver>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\r\nimport { extend } from \"vee-validate\";\r\nimport { required } from \"vee-validate/dist/rules\";\r\nimport Router from \"../router/index\";\r\n\r\nextend(\"required\", {\r\n  ...required,\r\n  message: \"Field required\"\r\n});\r\n\r\nexport default {\r\n  name: \"login\",\r\n  components: {\r\n    ValidationProvider,\r\n    ValidationObserver\r\n  },\r\n  data() {\r\n    return {\r\n      pageTitle: \"Welcome\",\r\n      valid: true,\r\n      isLoggedIn: \"false\",\r\n      users: [],\r\n      errorMessage: \"\",\r\n      login: { username: null, password: null }\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.loadDetails();\r\n  },\r\n  methods: {\r\n    onSubmit: function() {\r\n      this.valid = true;\r\n      var name = this.login.username;\r\n      var password = this.login.password;\r\n      sessionStorage.setItem(\"username\", this.login.username);\r\n      var user = this.users.filter(\r\n        user => user.userName === name && user.password === password\r\n      )[0];\r\n      if (user) {\r\n        this.isLoggedIn = \"true\";\r\n        sessionStorage.setItem(\"isLoggedIn\", this.isLoggedIn);\r\n        Router.push({ path: \"/products\" });\r\n      } else {\r\n        this.isLoggedIn = \"false\";\r\n        sessionStorage.setItem(\"isLoggedIn\", this.isLoggedIn);\r\n        this.valid = false;\r\n        this.errorMessage = \"Login Failed...\";\r\n      }\r\n    },\r\n    loadDetails: function() {\r\n      document.getElementById(\"login\").style.display = \"none\";\r\n      this.$http.get(\"./users/users.json\").then(\r\n        response => {\r\n          this.users = response.body;\r\n          this.errorMessage=null;\r\n        },\r\n        err => {\r\n          this.errorMessage=err.message;\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container-styles {\r\n  top: 180px;\r\n}\r\n.padding {\r\n  padding-bottom: 0px;\r\n  margin-bottom: 0px;\r\n}\r\n.link-underline {\r\n  color: #337ab7;\r\n  text-decoration: underline;\r\n}\r\n.error {\r\n  color: red;\r\n  position: relative;\r\n  text-align: left !important;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n"]}]}