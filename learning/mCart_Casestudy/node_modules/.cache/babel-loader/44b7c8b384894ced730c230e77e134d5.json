{"remainingRequest":"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/babel-loader/lib/index.js!/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/cache-loader/dist/cjs.js??ref--0-0!/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/vue-loader/lib/index.js??vue-loader-options!/mnt/c/projects/vue/learning/mCart_Casestudy/src/components/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/src/components/login.vue","mtime":1647289251798},{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/babel.config.js","mtime":1647289250613},{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/cache-loader/dist/cjs.js","mtime":1647289494000},{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/babel-loader/lib/index.js","mtime":1647289491000},{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/cache-loader/dist/cjs.js","mtime":1647289494000},{"path":"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/vue-loader/lib/index.js","mtime":1647289495000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"/mnt/c/projects/vue/learning/mCart_Casestudy/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\nimport { extend } from \"vee-validate\";\nimport { required } from \"vee-validate/dist/rules\";\nimport Router from \"../router/index\";\nextend(\"required\", _objectSpread(_objectSpread({}, required), {}, {\n  message: \"Field required\"\n}));\nexport default {\n  name: \"login\",\n  components: {\n    ValidationProvider: ValidationProvider,\n    ValidationObserver: ValidationObserver\n  },\n  data: function data() {\n    return {\n      pageTitle: \"Welcome\",\n      valid: true,\n      isLoggedIn: \"false\",\n      users: [],\n      errorMessage: \"\",\n      login: {\n        username: null,\n        password: null\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.loadDetails();\n  },\n  methods: {\n    onSubmit: function onSubmit() {\n      this.valid = true;\n      var name = this.login.username;\n      var password = this.login.password;\n      sessionStorage.setItem(\"username\", this.login.username);\n      var user = this.users.filter(function (user) {\n        return user.userName === name && user.password === password;\n      })[0];\n\n      if (user) {\n        this.isLoggedIn = \"true\";\n        sessionStorage.setItem(\"isLoggedIn\", this.isLoggedIn);\n        Router.push({\n          path: \"/products\"\n        });\n      } else {\n        this.isLoggedIn = \"false\";\n        sessionStorage.setItem(\"isLoggedIn\", this.isLoggedIn);\n        this.valid = false;\n        this.errorMessage = \"Login Failed...\";\n      }\n    },\n    loadDetails: function loadDetails() {\n      var _this = this;\n\n      document.getElementById(\"login\").style.display = \"none\";\n      this.$http.get(\"./users/users.json\").then(function (response) {\n        _this.users = response.body;\n        _this.errorMessage = null;\n      }, function (err) {\n        _this.errorMessage = err.message;\n      });\n    }\n  }\n};",{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AAEAA,mDACAC,QADA;AAEAC;AAFA;AAKA;AACAC,eADA;AAEAC;AACAC,0CADA;AAEAC;AAFA,GAFA;AAMAC,MANA,kBAMA;AACA;AACAC,0BADA;AAEAC,iBAFA;AAGAC,yBAHA;AAIAC,eAJA;AAKAC,sBALA;AAMAC;AAAAC;AAAAC;AAAA;AANA;AAQA,GAfA;AAgBAC;AACA;AACA,GAlBA;AAmBAC;AACAC;AACA;AACA;AACA;AACAC;AACA,mCACA;AAAA;AAAA,OADA,EAEA,CAFA;;AAGA;AACA;AACAA;AACAC;AAAAC;AAAA;AACA,OAJA,MAIA;AACA;AACAF;AACA;AACA;AACA;AACA,KAnBA;AAoBAG;AAAA;;AACAC;AACA,gDACA;AACA;AACA;AACA,OAJA,EAKA;AACA;AACA,OAPA;AASA;AA/BA;AAnBA","names":["extend","required","message","name","components","ValidationProvider","ValidationObserver","data","pageTitle","valid","isLoggedIn","users","errorMessage","login","username","password","mounted","methods","onSubmit","sessionStorage","Router","path","loadDetails","document"],"sourceRoot":"src/components","sources":["login.vue"],"sourcesContent":["<template>\r\n  <div class=\"container container-styles \">\r\n    <div class=\"col-sm-8 offset-2\">\r\n      <div class=\"card text-center\">\r\n        <div class=\"card-header\">Login</div>\r\n        <div class=\"card-body padding\">\r\n          <ValidationObserver v-slot=\"{ handleSubmit, invalid }\">\r\n            <form @submit.prevent=\"handleSubmit(onSubmit)\">\r\n              <div class=\"form-group row\">\r\n                <label for=\"username\" class=\"col-form-label col-sm-2\">\r\n                  Username :\r\n                </label>\r\n                <div class=\"col-sm-10\">\r\n                  <ValidationProvider\r\n                    name=\"Username\"\r\n                    rules=\"required\"\r\n                    v-slot=\"{ errors }\"\r\n                  >\r\n                    <input\r\n                      class=\"form-control \"\r\n                      v-model=\"login.username\"\r\n                      name=\"username\"\r\n                      type=\"text\"\r\n                    />\r\n                    <p class=\"error\">{{ errors[0] }}</p>\r\n                  </ValidationProvider>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row\">\r\n                <label for=\"password\" class=\"col-form-label col-sm-2\">\r\n                  Password :\r\n                </label>\r\n                <div class=\"col-sm-10\">\r\n                  <ValidationProvider\r\n                    name=\"password\"\r\n                    rules=\"required\"\r\n                    v-slot=\"{ errors }\"\r\n                  >\r\n                    <input\r\n                      class=\"form-control \"\r\n                      v-model=\"login.password\"\r\n                      name=\"password\"\r\n                      type=\"text\"\r\n                    />\r\n                    <p class=\"error\">{{ errors[0] }}</p>\r\n                  </ValidationProvider>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group row\">\r\n                <div class=\"col-3 offset-2\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    class=\"btn btn-primary\"\r\n                    :disabled=\"invalid\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                </div>\r\n                <div class=\"col-3 offset-2\">\r\n                  <input\r\n                    type=\"reset\"\r\n                    class=\"btn btn-outline-secondary\"\r\n                    value=\"Cancel\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </form>\r\n            <p v-if=\"errorMessage\" class=\"error\">{{errorMessage}}</p>\r\n          </ValidationObserver>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\r\nimport { extend } from \"vee-validate\";\r\nimport { required } from \"vee-validate/dist/rules\";\r\nimport Router from \"../router/index\";\r\n\r\nextend(\"required\", {\r\n  ...required,\r\n  message: \"Field required\"\r\n});\r\n\r\nexport default {\r\n  name: \"login\",\r\n  components: {\r\n    ValidationProvider,\r\n    ValidationObserver\r\n  },\r\n  data() {\r\n    return {\r\n      pageTitle: \"Welcome\",\r\n      valid: true,\r\n      isLoggedIn: \"false\",\r\n      users: [],\r\n      errorMessage: \"\",\r\n      login: { username: null, password: null }\r\n    };\r\n  },\r\n  mounted: function() {\r\n    this.loadDetails();\r\n  },\r\n  methods: {\r\n    onSubmit: function() {\r\n      this.valid = true;\r\n      var name = this.login.username;\r\n      var password = this.login.password;\r\n      sessionStorage.setItem(\"username\", this.login.username);\r\n      var user = this.users.filter(\r\n        user => user.userName === name && user.password === password\r\n      )[0];\r\n      if (user) {\r\n        this.isLoggedIn = \"true\";\r\n        sessionStorage.setItem(\"isLoggedIn\", this.isLoggedIn);\r\n        Router.push({ path: \"/products\" });\r\n      } else {\r\n        this.isLoggedIn = \"false\";\r\n        sessionStorage.setItem(\"isLoggedIn\", this.isLoggedIn);\r\n        this.valid = false;\r\n        this.errorMessage = \"Login Failed...\";\r\n      }\r\n    },\r\n    loadDetails: function() {\r\n      document.getElementById(\"login\").style.display = \"none\";\r\n      this.$http.get(\"./users/users.json\").then(\r\n        response => {\r\n          this.users = response.body;\r\n          this.errorMessage=null;\r\n        },\r\n        err => {\r\n          this.errorMessage=err.message;\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container-styles {\r\n  top: 180px;\r\n}\r\n.padding {\r\n  padding-bottom: 0px;\r\n  margin-bottom: 0px;\r\n}\r\n.link-underline {\r\n  color: #337ab7;\r\n  text-decoration: underline;\r\n}\r\n.error {\r\n  color: red;\r\n  position: relative;\r\n  text-align: left !important;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n"]}]}